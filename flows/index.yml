jtype: Flow
executors:
  - name: segmenter
    uses: SentenceSegmenter
  - name: encoder
    uses: 'jinahub+docker://TextPaddleEncoder'
    with:
      model_name: 'ernie_tiny'
      default_batch_size: 1
      default_traversal_paths:
        - 'c'
    volumes:
        - '${HOME}/.paddlehub:/root/.paddlehub'
        - '${HOME}/.paddlenlp:/root/.paddlenlp'
  - name: indexer
    uses: 'jinahub+docker://PostgreSQLIndexer'
    with:
      dump_path: './workspace'
      default_traversal_paths:
        - 'c'